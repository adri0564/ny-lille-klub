---
import EventCard from "./EventCard.astro";

let apikey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRodHFieXBlcHBtdWR1bWV4aGx4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDA2NjE3MzIsImV4cCI6MjAxNjIzNzczMn0.-9Gc_hZogXClFNsHWSSt0CLqpKSRvui8ToAxrHg0-XU";
    let url = "https://dhtqbypeppmudumexhlx.supabase.co/rest/v1/Events";
    
    let headersList = {
        "apikey": apikey
       }
       
       let response = await fetch(url, { 
         method: "GET",
         headers: headersList
       });
       
        let data = await response.json();
       console.log(data);
---


  

<section class="grid sm:grid-cols-2 lg:grid-cols-3 gap-16  md:mb-32 mb-16">

   {data.map((single) => {
           return <EventCard title={single.title} description={single.description} date={single.date} time={single.time}  price={single.price} source={single.source}/>
      }) }    

</section>

